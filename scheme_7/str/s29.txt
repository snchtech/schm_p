–û–∫, —Ü–µ **RefreshControl.js** –∑—ñ —Å—Ç–∞—Ä–æ–≥–æ
`app/components/Scheme/TopToolbar/RefreshControl.js`.

–ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ –π–æ–≥–æ –≤ –Ω–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É —è–∫ –∫–æ–Ω—Ç—Ä–æ–ª –≤–µ—Ä—Ö–Ω—å–æ—ó –ø–∞–Ω–µ–ª—ñ:

‚úÖ **–ù–æ–≤–∏–π —à–ª—è—Ö**

```
src/features/scheme-editor/ui/top-bar/controls/RefreshControl.js
```

---

## 1) –ù–æ–≤–∏–π —Ñ–∞–π–ª: `RefreshControl.js`

–Ø –∑–±–µ—Ä—ñ–≥ –ª–æ–≥—ñ–∫—É, –∞–ª–µ –∑—Ä–æ–±–∏–≤ **–¥–≤—ñ –Ω–µ–≤–µ–ª–∏–∫—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –ø—Ä–∞–≤–∫–∏**:

* –¥–æ–¥–∞–≤ `"use client"`
* **–∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–Ω–æ–≤–ª—é—é `lastUpdated`** –ø—ñ—Å–ª—è `onRefresh()` (—É —Ç–µ–±–µ —Ü–µ –±—É–ª–æ –∑–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–æ)

```jsx
"use client";

import React, { useState } from "react";
import { Tooltip, Typography, Box, Button } from "@mui/material";
import RefreshIcon from "@mui/icons-material/Refresh";

const RefreshControl = ({ onRefresh }) => {
  const [lastUpdated, setLastUpdated] = useState(
    new Date().toLocaleString(),
  );

  const handleRefresh = () => {
    onRefresh?.();
    setLastUpdated(new Date().toLocaleString());
  };

  return (
    <Box sx={{ display: "flex", alignItems: "center", gap: 1 }}>
      <Tooltip title="–û–Ω–æ–≤–∏—Ç–∏">
        <Button
          variant="outlined"
          color="primary"
          startIcon={<RefreshIcon />}
          onClick={handleRefresh}
        >
          –û–Ω–æ–≤–∏—Ç–∏
        </Button>
      </Tooltip>

      <Typography variant="caption" sx={{ color: "gray" }}>
        –û–Ω–æ–≤–ª–µ–Ω–æ: {lastUpdated}
      </Typography>
    </Box>
  );
};

export default RefreshControl;
```

---

## 2) –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≤ `EditorTopBar.js`

–£ —Ç–µ–±–µ –≤–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```js
import RefreshControl from "./controls/RefreshControl";
```

---

## 3) –ù–æ—Ç–∞—Ç–∫–∞ –Ω–∞ –º–∞–π–±—É—Ç–Ω—î (–≤–∞–∂–ª–∏–≤–æ)

–ó–∞—Ä–∞–∑ `RefreshControl`:

* **UI-—Ä—ñ–≤–µ–Ω—å** ‚úî
* –Ω–µ –∑–Ω–∞—î, *—â–æ —Å–∞–º–µ* –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è ‚úî

–ü—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ —É –º–∞–π–±—É—Ç–Ω—å–æ–º—É:

* `onRefresh` ‚Üí –≤–∏–∫–ª–∏–∫–∞—î action –∑ `model/domain`

  * –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ö–µ–º–∏, —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑ —Å–µ—Ä–≤–µ—Ä–æ–º, revalidate cache
* —Ü–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ª–∏—à–∞—î—Ç—å—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ ‚Äú—Ç—É–ø–∏–º‚Äù (stateless UI)

---

## 4) –°—Ç–∞—Ç—É—Å TopToolbar

–ù–∞ —Ü—å–æ–º—É –µ—Ç–∞–ø—ñ –≤ –Ω–∞—Å **–ø–æ–≤–Ω—ñ—Å—Ç—é –º—ñ–≥—Ä–æ–≤–∞–Ω–∏–π –≤–µ—Ä—Ö–Ω—ñ–π —Ç—É–ª–±–∞—Ä**:

* ‚úÖ `EditorTopBar.js`
* ‚úÖ `ScaleControl.js` *(—â–µ —á–µ–∫–∞—é, —è–∫—â–æ –Ω–µ —Å–∫–∏–¥–∞–≤)*
* ‚úÖ `BindingsControl.js`
* ‚úÖ `CheckSchemeControl.js`
* ‚úÖ `RefreshControl.js`

---

### –ù–∞—Å—Ç—É–ø–Ω–∏–π –ª–æ–≥—ñ—á–Ω–∏–π –∫—Ä–æ–∫

–Ñ –¥–≤–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∏, –æ–±–∏—Ä–∞–π:

1. **ScaleControl.js** (—è–∫—â–æ —â–µ –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏–ª–∏)
2. **EditorCanvas.js** ‚Äî –∑–≤–µ—Å—Ç–∏ –≤—Å–µ —Ä–∞–∑–æ–º:
   Stage + Grid + Guides + Symbols + Header + Notes + Table + Zoom/Pan

–ö–∏–¥–∞–π –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ñ–∞–π–ª üëå
