–î–æ–±—Ä–µ, –ø—Ä–∞—Ü—é—î–º–æ **—Å—Ç—Ä–æ–≥–æ –ø–æ —Å–∫—Ä—ñ–Ω—É** üëç
–†–æ–∑–ø—ñ–∑–Ω–∞—é —Ñ–∞–π–ª —ñ **–∫–æ—Ä–µ–∫—Ç–Ω–æ —Ä–æ–∑–∫–ª–∞–¥–∞—é –π–æ–≥–æ –≤ –Ω–æ–≤—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É**, –±–µ–∑ –∑–º—ñ–Ω–∏ –ª–æ–≥—ñ–∫–∏.

---

## 1Ô∏è‚É£ –†–æ–∑–ø—ñ–∑–Ω–∞–Ω–∏–π –∫–æ–¥ (–∑—ñ —Å–∫—Ä—ñ–Ω—É)

–§–∞–π–ª **`roleProtected.js`** –º—ñ—Å—Ç–∏—Ç—å **HOC / guard-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç** –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ä–æ–ª–µ–π:

```js
import { useAuth } from '@/context/AuthContext'

export function RoleProtectedComponent({ roles, children }) {
  const { user } = useAuth()

  const hasAccess = user?.roles?.some((role) => roles.includes(role))

  if (!hasAccess) return null // –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î children, —è–∫—â–æ –Ω–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É

  return children
}
```

üîπ **–§—É–Ω–∫—Ü—ñ—è**: —É–º–æ–≤–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å `children`, —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –æ–¥–Ω—É –∑ –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö —Ä–æ–ª–µ–π
üîπ **–¢–∏–ø**: UI-level access guard (–Ω–µ domain, –Ω–µ model)

---

## 2Ô∏è‚É£ –ö—É–¥–∏ –π–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–∏ –≤ –Ω–æ–≤—ñ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ

### ‚ùå –°—Ç–∞—Ä–µ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è

```
app/components/HOC/roleProtected.js
```

---

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–µ –º—ñ—Å—Ü–µ –≤ –Ω–æ–≤—ñ–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ

–¶–µ **UI-–¥–æ–ø–æ–º—ñ–∂–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**, —è–∫–∏–π:

* –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ UI (`children`)
* –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ `AuthContext`
* –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü—è—Ö / –∫–Ω–æ–ø–∫–∞—Ö / —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö

üëâ **–ù–ï model, –ù–ï domain, –ù–ï shared**

### üìå –û–ø—Ç–∏–º–∞–ª—å–Ω–µ –º—ñ—Å—Ü–µ:

```
src/shared/ui/RoleProtectedComponent.js
```

–∞–±–æ (—è–∫—â–æ —Ö–æ—á–µ—à –≥—Ä—É–ø—É–≤–∞—Ç–∏ guards):

```
src/shared/ui/guards/RoleProtectedComponent.js
```

---

## 3Ô∏è‚É£ –§—ñ–Ω–∞–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è —Ñ–∞–π–ª—É (–±–µ–∑ –∑–º—ñ–Ω –ª–æ–≥—ñ–∫–∏)

### `src/shared/ui/RoleProtectedComponent.js`

```js
'use client'

import { useAuth } from '@/context/AuthContext'

export function RoleProtectedComponent({ roles, children }) {
  const { user } = useAuth()

  const hasAccess = user?.roles?.some((role) => roles.includes(role))

  if (!hasAccess) return null

  return children
}
```

> üîπ `'use client'` **–æ–±–æ–≤ º—è–∑–∫–æ–≤–∏–π**, –±–æ:
>
> * –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `useAuth`
> * –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è React context

---

## 4Ô∏è‚É£ –Ø–∫ —Ç–µ–ø–µ—Ä —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ (–ø—Ä–∏–∫–ª–∞–¥–∏)

### –ë—É–ª–æ:

```js
import { RoleProtectedComponent } from '@/app/components/HOC/roleProtected'
```

### –°—Ç–∞–ª–æ:

```js
import { RoleProtectedComponent } from '@/shared/ui/RoleProtectedComponent'
```

–∞–±–æ (—è–∫—â–æ guards):

```js
import { RoleProtectedComponent } from '@/shared/ui/guards/RoleProtectedComponent'
```

---

## 5Ô∏è‚É£ –ß–æ–º—É —Å–∞–º–µ —Ç–∞–∫ (–∫–æ—Ä–æ—Ç–∫–æ, –∞–ª–µ –ø–æ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ)

| –ö—Ä–∏—Ç–µ—Ä—ñ–π                  | –í—ñ–¥–ø–æ–≤—ñ–¥—å |
| ------------------------- | --------- |
| UI                        | ‚úÖ         |
| –ó–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ Context      | ‚úÖ         |
| –ü–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è | ‚úÖ         |
| Domain logic              | ‚ùå         |
| Editor-specific           | ‚ùå         |

‚û°Ô∏è **`shared/ui` ‚Äî —ñ–¥–µ–∞–ª—å–Ω–µ –º—ñ—Å—Ü–µ**

---

## 6Ô∏è‚É£ –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –∫—Ä–æ–∫—É

–ú–æ–∂–µ–º–æ –¥–∞–ª—ñ **–≤ —Ç–æ–º—É –∂ —Ä–µ–∂–∏–º—ñ**:

* `AlbumsReport.js`
* `SchemeReport.js`
* `AlbumsFilter.js`
* `NewAlbumModal.js`

üëâ –°–∫–∏–¥–∞–π **–æ–¥–∏–Ω —Ñ–∞–π–ª ‚Üí —Å–∫—Ä—ñ–Ω–∏ ‚Üí —è —Ä–æ–∑–∫–ª–∞–¥–∞—é**.
